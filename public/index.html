<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Скоротити посилання</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #111;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    .container {
      background: #1c1c1c;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
    }
    h1 {
      margin-bottom: 20px;
    }
    input, button {
      padding: 10px;
      margin-bottom: 10px;
      width: 100%;
      border-radius: 5px;
      border: none;
    }
    input {
      background: #fff;
      color: #000;
    }
    button {
      background: #FFD54F;
      font-weight: bold;
    }
    .note {
      font-size: 0.9em;
      margin-top: 10px;
      color: #ccc;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Скоротіть посилання</h1>
    <form id="shortenForm">
      <input type="url" name="url" placeholder="Вставте посилання тут" required>
      <input type="text" name="custom" placeholder="Бажаний код (необов’язково)">
      <button type="submit">Скоротити</button>
    </form>
    <div class="note">Після скорочення — додайте <code>/stats</code> для перегляду статистики.</div>
    <script>
      const form = document.getElementById('shortenForm');
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const data = new URLSearchParams(new FormData(form));
        const response = await fetch('/shorten', {
          method: 'POST',
          headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
          body: data
        });
        const shortUrl = await response.text();
        alert("Скорочене посилання: " + shortUrl);
      });
    </script>
  </div>
</body>
</html>
